<div
  class="container inventory-form-container d-flex justify-content-center align-items-center"
>
  <form
    class="bg-light p-5 rounded shadow-lg larger-form needs-validation"
    novalidate
    [formGroup]="form"
    (ngSubmit)="editProvider()"
  >
    <h2 class="text-center mb-4">Edit Provider</h2>

    <div class="row mb-4 align-items-center">
      <label for="providerName" class="col-sm-4 col-form-label"
        >Provider Name</label
      >
      <div class="col-sm-8">
        <input
          type="text"
          id="providerName"
          name="providerName"
          class="form-control"
          required
          formControlName="providerName"
        />
        @if(form.get('providerName').invalid &&
        form.get('providerName').touched){
        <div class="error">
          @if(form.get('providerName').errors?.['required']){
          <div>Provider Name is required</div>
          } @if(form.get('providerName').errors?.['minlength']){
          <div>Provider Name must be at least 10 characters long</div>
          } @if(form.get('providerName').errors?.['pattern']){
          <div>Provider Name format is invalid</div>
          }
        </div>
        }
      </div>
    </div>

    <div class="row mb-4 align-items-center">
      <label for="providerContactNumber" class="col-sm-4 col-form-label"
        >Provider Contact Number</label
      >
      <div class="col-sm-8">
        <input
          type="text"
          id="providerContactNumber"
          name="providerContactNumber"
          class="form-control"
          required
          formControlName="providerContactNumber"
        />
        @if(form.get('providerContactNumber').invalid &&
        form.get('providerContactNumber').touched){
        <div class="error">
          @if(form.get('providerContactNumber').errors?.['required']){
          <div>Provider Contact Number is required</div>
          } @if(form.get('providerContactNumber').errors?.['pattern']){
          <div>
            Provider Contact Number should contain only digits and have exact 10
            or 11 digits
          </div>
          }
        </div>
        }
      </div>
    </div>

    <div class="row mb-4 align-items-center">
      <label for="providerAddress" class="col-sm-4 col-form-label"
        >Provider Address</label
      >
      <div class="col-sm-8">
        <input
          type="text"
          id="providerAddress"
          name="providerAddress"
          class="form-control"
          required
          formControlName="providerAddress"
        />
        @if(form.get('providerAddress').invalid &&
        form.get('providerAddress').touched){
        <div class="error">
          @if(form.get('providerAddress').errors?.['required']){
          <div>Provider Address is required</div>
          } @if(form.get('providerAddress').errors?.['minlength']){
          <div>Provider Address must be at least 10 characters long</div>
          }
        </div>
        }
      </div>
    </div>

    <div class="row mb-4 align-items-center">
      <label for="providerEmail" class="col-sm-4 col-form-label"
        >Provider Email</label
      >
      <div class="col-sm-8">
        <input
          type="text"
          id="providerEmail"
          name="providerEmail"
          class="form-control"
          required
          formControlName="providerEmail"
        />
        @if(form.get('providerEmail').invalid &&
        form.get('providerEmail').touched){
        <div class="error">
          @if(form.get('providerEmail').errors?.['required']){
          <div>Provider Email is required</div>
          } @if(form.get('providerEmail').errors?.['email']){
          <div>Provider Email is invalid format</div>
          }@if(form.get('providerEmail').errors?.['emailTaken']){
          <div>Provider Email is used by another People</div>
          }
        </div>
        }
      </div>
    </div>

    <div class="row mb-4 align-items-center">
      <label for="enabled" class="col-sm-4 col-form-label">Enabled</label>
      <div class="col-sm-8">
        <input
          type="checkbox"
          id="enabled"
          name="enabled"
          class="form-check-input"
          formControlName="enabled"
        />
      </div>
    </div>

    <!-- <div class="row mb-4 align-items-center">
      <label for="countryId" class="col-sm-4 col-form-label">Country</label>
      <div class="col-sm-8">
        <select
          name="countryId"
          id="countryId"
          class="form-select"
          required
          formControlName="countryId"
        >
          <option value="">Select Country</option>
          @for (item of countries; track $index) {
          <option value="{{ item.id }}">{{ item.name }}</option>
          }
        </select>
        @if(form.get('countryId').invalid && form.get('countryId').touched){
        <div class="error">
          @if(form.get('countryId').errors?.['defaultSelected']) {
          <div>Please Select A Country</div>
          }
        </div>
        }
      </div>
    </div> -->

    <!-- <div class="row mb-4 align-items-center">
      <label for="stateId" class="col-sm-4 col-form-label">State</label>
      <div class="col-sm-8">
        <select
          name="stateId"
          id="stateId"
          class="form-select"
          required
          formControlName="stateId"
        >
          <option value="">Select State</option>
          @for (item of states; track $index) {
          <option value="{{ item.id }}">{{ item.name }}</option>
          }
        </select>
        @if(form.get('stateId').invalid && form.get('stateId').touched){
        <div class="error">
          @if(form.get('stateId').errors?.['defaultSelected']) {
          <div>Please Select A State</div>
          }
        </div>
        }
      </div>
    </div> -->

    <!-- <div class="row mb-4 align-items-center">
      <label for="districtId" class="col-sm-4 col-form-label">District</label>
      <div class="col-sm-8">
        <select
          name="districtId"
          id="districtId"
          class="form-select"
          required
          formControlName="districtId"
        >
          <option value="">Select District</option>
          @for (item of districts; track $index) {
          <option value="{{ item.id }}">{{ item.name }}</option>
          }
        </select>
        @if(form.get('districtId').invalid && form.get('districtId').touched){
        <div class="error">
          @if(form.get('districtId').errors?.['defaultSelected']) {
          <div>Please Select A District</div>
          }
        </div>
        }
      </div>
    </div> -->

    <!-- Centered buttons -->
    <div class="text-center">
      <button
        type="submit"
        [disabled]="form.invalid"
        class="btn btn-primary mx-2"
      >
        Submit
      </button>
      <button
        type="button"
        class="btn btn-secondary mx-2"
        routerLink="/inventory/inventory_provider"
      >
        Close
      </button>
    </div>
  </form>
  @if(showModal){
  <app-message-modal
    [message]="message"
    [type]="type"
    (close)="closeModalMessage()"
  >
  </app-message-modal>
  }
</div>
