<div class="form-container">
  <div class="form-header">
    <button class="btn-primary edit-btn" (click)="toggleEdit()">
      {{ isEditMode ? "Save" : "Edit" }}
    </button>
  </div>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <label for="userId">Mã Nhân Viên:</label>
    <input type="text" id="userId" formControlName="userId" readonly />

    <label for="firstName">First Name:</label>
    <input
      type="text"
      id="firstName"
      formControlName="firstName"
      [readonly]="!isEditMode"
    />
    @if(form.get('firstName').invalid && form.get('firstName').touched){
    <div class="error">
      @if (form.get('firstName')?.errors?.['required']) {
      <div>FirstName là bắt buộc</div>
      } @if (form.get('firstName')?.errors?.['minlength']) {
      <div>Độ dài của firstName ít nhất là 6</div>
      }
    </div>
    }

    <label for="lastName">Last Name:</label>
    <input
      type="text"
      id="lastName"
      formControlName="lastName"
      [readonly]="!isEditMode"
    />
    @if(form.get('lastName').invalid && form.get('lastName').touched){
    <div class="error">
      @if (form.get('lastName')?.errors?.['required']) {
      <div>LastName là bắt buộc</div>
      } @if (form.get('lastName')?.errors?.['minlength']) {
      <div>Độ dài của lastName ít nhất là 6</div>
      }
    </div>
    }

    <label for="email">Email:</label>
    <input type="email" id="email" formControlName="email" readonly />

    <label for="phoneNumber">Phone Number:</label>
    <input
      type="text"
      id="phoneNumber"
      formControlName="phoneNumber"
      [readonly]="!isEditMode"
    />
    @if (form.get('phoneNumber').invalid && form.get('phoneNumber').touched) {
    <div class="error">
      @if (form.get('phoneNumber').errors?.['required']) {
      <div>Phone Number là bắt buộc</div>
      } @if (form.get('phoneNumber').errors?.['pattern']) {
      <div>Phone Number bắt buộc phải 10 ký tự và chỉ có số</div>
      }
    </div>
    }

    <label for="address">Address:</label>
    <input
      type="text"
      id="address"
      formControlName="address"
      [readonly]="!isEditMode"
    />
    @if (form.get('address').invalid && form.get('address').touched) {
    <div class="error">
      @if (form.get('address').errors?.['required']) {
      <div>Address là bắt buộc</div>
      }
    </div>
    }
    <label for="role">Role:</label>
    <input type="text" id="role" formControlName="role" readonly />

    <button
      class="btn-primary"
      [disabled]="form.invalid || !isEditMode"
      type="submit"
    >
      Update Information
    </button>
  </form>
</div>
